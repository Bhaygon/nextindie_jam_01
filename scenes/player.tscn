[gd_scene load_steps=10 format=3 uid="uid://cscicrn336lgh"]

[ext_resource type="Script" path="res://scenes/player_script.gd" id="1_dsi2c"]
[ext_resource type="Texture2D" uid="uid://barohn4qo38mk" path="res://assets/krampus.png" id="1_tr3tt"]
[ext_resource type="Script" path="res://scripts/state_machine.gd" id="2_ww77t"]
[ext_resource type="Script" path="res://scripts/ground.gd" id="3_t4fr2"]
[ext_resource type="Script" path="res://scripts/air.gd" id="4_ioktr"]
[ext_resource type="Script" path="res://scripts/landing.gd" id="5_kun3d"]

[sub_resource type="SpriteFrames" id="SpriteFrames_8e5pj"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_tr3tt")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_yk8at"]
height = 24.0

[sub_resource type="AnimationRootNode" id="AnimationRootNode_quymx"]

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_dsi2c")

[node name="Sprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -24)
sprite_frames = SubResource("SpriteFrames_8e5pj")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -12)
shape = SubResource("CapsuleShape2D_yk8at")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -72)
zoom = Vector2(2, 2)
limit_left = 0
limit_top = -3000
limit_right = 3000
limit_bottom = 3000
position_smoothing_enabled = true
rotation_smoothing_enabled = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../CollisionShape2D")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationRootNode_quymx")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("current_state", "player")]
script = ExtResource("2_ww77t")
current_state = NodePath("Ground")
player = NodePath("..")

[node name="Ground" type="Node" parent="StateMachine" node_paths=PackedStringArray("air_state")]
script = ExtResource("3_t4fr2")
air_state = NodePath("../Air")

[node name="Air" type="Node" parent="StateMachine" node_paths=PackedStringArray("ground_state")]
script = ExtResource("4_ioktr")
ground_state = NodePath("../Ground")
can_move = null
can_sneak = false
can_jump = false
can_flip = false
jump_velocity = null

[node name="Landing" type="Node" parent="StateMachine"]
script = ExtResource("5_kun3d")
can_move = false
can_sneak = false
can_jump = false
can_flip = false
